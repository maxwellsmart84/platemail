{"version":3,"sources":["../src/buildCommands.js"],"names":["buildPackage","dir","options","nodeExpress","nodeSql","nodeNosql","nodeCli","repo","name","author","version","promptUserInformation","cleanName","toString","trim","path","sh","which","console","error","chalk","red","bold","exec","cd","rm","editPackageJsonAndInstall","info","yellow","green","process","exit","questions","type","message","blue","validate","input","Promise","res","rej","length","log","default","answers","inquirer","prompt","rawData","fs","readFileSync","parsedData","JSON","parse","newData","finishedFile","stringify","writeFileSync"],"mappings":"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","sourcesContent":["import sh from 'shelljs';\nimport fs from 'fs';\nimport inquirer from 'inquirer';\nimport chalk from 'chalk';\n\nexport async function buildPackage(dir, options) {\n  const { nodeExpress, nodeSql, nodeNosql, nodeCli, } = options;\n  let repo;\n  const { name, author, version, } = await promptUserInformation();\n  const cleanName = name.toString().trim();\n  const path = dir ? `${dir}/${cleanName}` : `${cleanName}`;\n\n  if (nodeExpress) repo = 'https://github.com/maxwellsmart84/nodeApiPlate.git';\n  if (nodeSql) repo = '';\n  if (nodeNosql) repo = '';\n  if (nodeCli) repo = '';\n\n  if (!sh.which('git')) {\n    console.error(chalk.red.bold('Sorry, this program requires git, go here for more information https://git-scm.com/book/en/v2/Getting-Started-Installing-Git'));\n  }\n  sh.exec(`git clone ${repo} ${path}`);\n  sh.cd(path);\n  sh.rm('-rf', '.git');\n  sh.exec('git init');\n  editPackageJsonAndInstall(cleanName, author, version);\n  console.info(chalk.yellow.bold('Installing Dependencies...'));\n  sh.exec('npm install');\n  console.info(chalk.green.bold('Finished! Thanks for using Platemail! Happy Coding!'));\n  return process.exit(0);\n}\n\n\nasync function promptUserInformation() {\n  const questions = [\n    {\n      type: 'input',\n      name: 'name',\n      message: chalk.blue('What is this project\\'s name?', chalk.red.bold('--required')),\n      validate(input) {\n        return new Promise((res, rej) => {\n          if (typeof input === 'string' && input.length !== 0) res(true);\n          else rej(console.log(chalk.red.bold(' Input required')));\n        });\n      },\n    },\n    {\n      type: 'input',\n      name: 'author',\n      message: chalk.blue('What is the author\\'s name?'),\n      default: '',\n    },\n    {\n      type: 'input',\n      name: 'version',\n      message: chalk.blue('What is the version number?'),\n      default: '1.0.0',\n    }\n  ];\n  const answers = await inquirer.prompt(questions);\n  return answers;\n}\n\n\nfunction editPackageJsonAndInstall(name, author, version = '1.0.0', path = 'package.json') {\n  const rawData = fs.readFileSync(path);\n  const parsedData = JSON.parse(rawData);\n  const newData = { ...parsedData, name, author, version, };\n  const finishedFile = JSON.stringify(newData, null, 2);\n  return fs.writeFileSync(path, finishedFile);\n}\n\n"],"file":"buildCommands.js"}